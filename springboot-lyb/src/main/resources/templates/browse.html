
<!DOCTYPE html>
<html lang="zh-cn" xmlns:th="http://www.thymeleaf.org" >
<head>
    <meta charset="UTF-8">
</head>
<body>
<div class="container">
    <div class="container-fluid">


        <!-- posts list -->
        <h3>帖子列表</h3>
        <ul class="list-group">

<!--            <form th:action="@{/getList}" method="get">-->
<!--                <div class="row form-group">-->
<!--                    <input  type="text" class="form-control" name="email" >-->
<!--                </div>-->
<!--                <button th:type="submit" class="btn btn-primary">查询</button>-->
<!--            </form>-->


            <li class="list-group-item" th:each="comment:${list}">
                <div class="media">
                    <div class="media-heading">
                        <h3><a th:href="@{/comment/(postId=${comment.id})}" th:text="${comment.theme}">title</a></h3>
                        <h5 th:text="${comment.content}">title</h5>
                    </div>


                    <!--                    <div class="container-lg">-->
                    <!--                        <nav aria-label="Page navigation" class="mt-3 ">-->
                    <!--                            <ul class="pagination">-->
                    <!--                                <li class="page-item"><span class="page-link  changepage" onclick="prepage(this)"-->
                    <!--                                                            th:attr="data-page=${page.current - 1 >1?page.current -1: 1}"-->
                    <!--                                                            style="color: #17a2b8;cursor:pointer">上一页</span></li>-->
                    <!--                                <li class="page-item"><a class="page-link changepage" href="javascript:void(0)"-->
                    <!--                                                         style="color: #17a2b8">当前在第<span th:text="${page.current}">1</span>页</a></li>-->
                    <!--                                <li class="page-item"><span class="page-link" onclick="nextpage(this)"-->
                    <!--                                                            th:attr="data-page=${page.current + 1 > page.pages?page.pages: page.current + 1}"-->
                    <!--                                                            style="color: #17a2b8;cursor:pointer">下一页</span></li>-->
                    <!--                                <li class="page-item text-center  mt-2 ml-2"></li>-->
                    <!--                                <li class="page ml-2 mt-1 w-25 ">-->
                    <!--                                    <span class="text-center " th:text="'共'+ ${page.getPages()}+ '页'">共20页</span>-->
                    <!--                                    <span class="text-center ">跳转到</span>-->
                    <!--                                    <input type="text" class="w-25   rounded" name="page" id="page">-->
                    <!--                                    <span class="text-center ">页</span>-->
                    <!--                                    <a class="btn btn-primary " href="javascript:void(0)" id="pagebtn" onclick="changepage(this)">确定</a>-->
                    <!--                                </li>-->

                    <!--                            </ul>-->
                    <!--                        </nav>-->
                    <!--                    </div>-->
                    <!--                </div>-->
                    <!--                    <span th:text="${'发布于 ' + post.creationDate}"></span>-->
                    <!--                    <div class="media-right media-middle pull-right">-->
                    <!--                        <form th:method="DELETE" th:action="@{/posts/{postId}(postId=${post.id})}">-->
                    <!--                            <button class="btn btn-danger" type="submit">删除</button>-->
                    <!--                        </form>-->
                    <!--                    </div>-->
                    <!--                    <div class="media-right media-middle pull-right">-->
                    <!--                        <button type="button" class="btn btn-primary editButton" data-toggle="modal"-->
                    <!--                                th:attr="data-post-id=${post.id},-->
                    <!--							data-post-title=${post.title},-->
                    <!--		                    data-post-content=${post.content},-->
                    <!--		                    data-post-date=${post.creationDate}">编辑</button>-->
                    <!--                    </div>-->
                </div>
            </li>
        </ul>

    </div>
</div>
</body>
<script>
    $(document).ready(function() {
        $(".editButton").click(function(event){
            event.preventDefault();
            var postId = $(this).data('post-id');
            var postTitle = $(this).data('post-title');
            var postContent = $(this).data('post-content');
            $("#postEditModal").modal();

            //filling up form
            $(".modal-body #postId").val(postId);
            $(".modal-body #postTitle").val(postTitle);
            $(".modal-body #postContent").val(postContent);
            $(".modal-body #editForm").attr('action', "/posts");
        })
    });
</script>
</html>